<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="eskema API docs, for the Dart programming language.">
  <title>eskema - Dart API docs</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">
  
</head>

<body data-base-href="" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/nombrekeff/eskema">eskema package</a></li>
  </ol>
  <div class="self-name">eskema</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
  <div id="dartdoc-main-content" class="main-content">
      
<section class="desc markdown">
  <p><img src="https://github.com/nombrekeff/eskema/raw/main/.github/Eskema.png" alt=""></p>
<p><a href="https://codecov.io/gh/nombrekeff/eskema"><img src="https://codecov.io/gh/nombrekeff/eskema/branch/main/graph/badge.svg?token=ZF22N0G09J" alt="codecov"></a> <a href="https://github.com/nombrekeff/eskema/actions/workflows/test_main.yml"><img src="https://github.com/nombrekeff/eskema/actions/workflows/test_main.yml/badge.svg?branch=main" alt="build"></a> <a href="https://pub.dev/packages/eskema"><img src="https://img.shields.io/pub/v/eskema?style=flat-square" alt="Pub Version"></a></p>
<h1 id="eskema">Eskema</h1>
<p>Eskema is a small, composable runtime validation library for Dart. It helps you validate dynamic values (JSON, Maps, Lists, primitives) with readable validators and clear error messages.</p>
<h2 id="use-cases">Use cases</h2>
<p>Here are some common usecases for Eskema:</p>
<ul>
<li><strong>Validate untyped API JSON</strong> before mapping to models (catch missing/invalid fields early).</li>
<li><strong>Guard inbound request payloads</strong> (HTTP handlers, jobs) with clear, fail-fast errors.</li>
<li><strong>Validate runtime config and feature flags</strong> from files or remote sources.</li>
</ul>
<hr>
<h2 id="install">Install</h2>
<pre class="language-bash"><code class="language-bash">dart pub add eskema
</code></pre>
<h2 id="quick-start">Quick start</h2>
<p>Validate a map using a schema-like validator and get back a detailed result.</p>
<h3 id="1-create-a-validator">1. Create a validator</h3>
<pre class="language-dart"><code class="language-dart">import 'package:eskema/eskema.dart';

final userValidator = eskema({
  // Use built-in validator functions
  'username': isString() &amp; isNotEmpty(),

  // Some zero-arg validators also have cached aliases (e.g. $isBool, $isString)
  'lastname': $isString,

  // Combine validators using operators for simplicity and readability
  'age': isInt() &amp; isGte(0),
  'theme': isString() &amp; isIn(['light', 'dark']),

  // The key must exist, but the value may be null.
  'bio': nullable(isString()),

  // The key may be missing entirely. If present, it must be a valid DateTime string.
  'birthday': optional(isDateTimeString()),
});
</code></pre>
<h3 id="2-validate-your-data">2. Validate your data</h3>
<p>Use the <code>.validate()</code> method to get a <code>Result</code> object, which contains the validation status, errors, and the original value.</p>
<pre class="language-dart"><code class="language-dart">final result = userValidator.validate({
  'username': 'alice',
  'lastname': 'smith',
  'age': -1, // Invalid
  'theme': 'system', // Invalid
  'bio': null, // Valid
  // 'birthday' is missing, which is valid for an optional field
});

if (!result.isValid) {
  print(result);
  // Result(
  //   isValid: false,
  //   value: { ... },
  //   expectations: [
  //     age: must be greater than or equal to 0,
  //     theme: must be one of [light, dark]
  //   ]
  // )
}
</code></pre>
<p>You can also get a simple boolean or have it throw an exception on failure.</p>
<pre class="language-dart"><code class="language-dart">// Get a boolean result
final ok = userValidator.isValid({'username': 'bob', 'lastname': 'p', 'age': 42, 'theme': 'light'});
print("User is valid: $ok"); // true

// Throw an exception on failure
try {
  userValidator.validateOrThrow({'username': 'bob'});
} catch (e) {
  print(e); // ValidatorFailedException with a helpful message
}
</code></pre>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#eskema">Eskema</a>
<ul>
<li><a href="#use-cases">Use cases</a>
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#quick-start">Quick start</a>
<ul>
<li><a href="#1-create-a-validator">1. Create a validator</a></li>
<li><a href="#2-validate-your-data">2. Validate your data</a></li>
</ul>
</li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#api-overview">API overview</a></li>
<li><a href="#transformers">Transformers</a></li>
<li><a href="#conditional-validation">Conditional Validation</a></li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#custom-validators">Custom validators</a></li>
<li><a href="#nullable-vs-optional">Nullable vs optional</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a>
<ul>
<li><a href="#reporting-bugs">Reporting Bugs</a></li>
<li><a href="#feature-requests">Feature Requests</a></li>
<li><a href="#pull-requests">Pull Requests</a></li>
<li><a href="#project-specific-guidelines">Project-Specific Guidelines</a>
<ul>
<li><a href="#requesting-new-validators">Requesting New Validators</a></li>
<li><a href="#code-style">Code Style</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="api-overview">API overview</h2>
<blockquote>
<p>Check the <a href="https://pub.dev/documentation/eskema/latest/">docs</a> for the full technical documentation.</p>
</blockquote>
<ul>
<li>
<p>Core</p>
<ul>
<li><code>IValidator</code> — The base class for all validators.</li>
<li><code>Result</code> — The output of a validation, containing <code>.isValid</code>, <code>.expectations</code>, and <code>.value</code>.</li>
<li><code>eskema({ 'key': validator, ... })</code> — Validates maps against a schema.</li>
<li><code>eskemaStrict({ 'key': validator, ... })</code> — Like <code>eskema</code>, but fails on unknown keys.</li>
</ul>
</li>
<li>
<p>Common Validators</p>
<ul>
<li>Types: <code>isString()</code>, <code>isInt()</code>, <code>isDouble()</code>, <code>isBool()</code>, <code>isList()</code>, <code>isMap()</code>, <code>isDateTime()</code></li>
<li>Presence: <code>isNull()</code>, <code>isNotNull()</code>, <code>isNotEmpty()</code>, <code>isPresent()</code></li>
<li>Composition: <code>&amp;</code> (AND), <code>|</code> (OR), <code>not()</code></li>
<li>Comparison: <code>isGt(n)</code>, <code>isGte(n)</code>, <code>isLt(n)</code>, <code>isLte(n)</code>, <code>isEq(v)</code>, <code>isDeepEq(v)</code>, <code>isInRange(min, max)</code></li>
<li>Strings: <code>hasLength(n)</code>, <code>contains(s)</code>, <code>startsWith(s)</code>, <code>endsWith(s)</code>, <code>matchesPattern(re)</code>, <code>isEmail()</code>, <code>isUrl()</code>, <code>isUuid()</code>, <code>isDateTimeString()</code></li>
<li>Lists: <code>listEach(v)</code>, <code>listIsOfLength(n)</code>, <code>contains(v)</code></li>
</ul>
</li>
<li>
<p>Modifiers</p>
<ul>
<li><code>v.nullable()</code> — Allows the value to be <code>null</code> (key must be present).</li>
<li><code>v.optional()</code> — Allows the key to be missing.</li>
<li><code>v &gt; 'custom error'</code> — Overrides the default error message.</li>
</ul>
</li>
<li>
<p>Results &amp; Helpers</p>
<ul>
<li><code>.validate(value)</code> → <code>Result</code></li>
<li><code>.isValid(value)</code> → <code>bool</code></li>
<li><code>.validateOrThrow(value)</code> → throws <code>ValidatorFailedException</code> on invalid input.</li>
</ul>
</li>
</ul>
<h2 id="transformers">Transformers</h2>
<p>Transformers coerce or modify a value <em>before</em> it's passed to a child validator. This is useful for converting strings to numbers, trimming whitespace, or providing default values.</p>
<pre class="language-dart"><code class="language-dart">// Coerce a string to an integer, then validate the number
final ageValidator = toInt(isInt() &amp; isGte(18));
ageValidator.validate('25'); // Valid, value becomes 25
ageValidator.validate('invalid'); // Invalid

// Provide a default value for a missing or null field
final settingsValidator = eskema({
  'theme': defaultTo('light', isIn(['light', 'dark'])),
});
settingsValidator.validate({}); // Valid, theme becomes 'light'

// Split a string into a list and validate each item
final tagsValidator = split(',', listEach(isString() &amp; isNotEmpty()));
tagsValidator.validate('dart,flutter,eskema'); // Valid
</code></pre>
<p>Available transformers:</p>
<ul>
<li><code>toInt(child)</code></li>
<li><code>toDouble(child)</code></li>
<li><code>toNum(child)</code></li>
<li><code>toBool(child)</code></li>
<li><code>toDateTime(child)</code></li>
<li><code>trim(child)</code></li>
<li><code>toLowerCase(child)</code></li>
<li><code>toUpperCase(child)</code></li>
<li><code>defaultTo(defaultValue, child)</code></li>
<li><code>split(separator, child)</code></li>
<li><code>getField(key, child)</code></li>
</ul>
<h2 id="conditional-validation">Conditional Validation</h2>
<p>The <code>when</code> validator allows you to apply different validation rules based on the value of another field in the same map.</p>
<pre class="language-dart"><code class="language-dart">final addressValidator = eskema({
  'country': isIn(['USA', 'Canada']),
  'postal_code': when(
    // Condition (on the parent map)
    getField('country', isEq('USA')),
    // `then` validator (for the `postal_code` field)
    then: isString() &amp; hasLength(5) &gt; 'a 5-digit US zip code',
    // `otherwise` validator (for the `postal_code` field)
    otherwise: isString() &amp; hasLength(6) &gt; 'a 6-character Canadian postal code',
  ),
});

// This is valid
addressValidator.validate({
  'country': 'USA',
  'postal_code': '90210',
});

// This is also valid
addressValidator.validate({
  'country': 'Canada',
  'postal_code': 'M5H2N2',
});

// This is invalid
addressValidator.validate({
  'country': 'USA',
  'postal_code': 'M5H2N2',
});
</code></pre>
<h2 id="examples">Examples</h2>
<h3 id="custom-validators">Custom validators</h3>
<p>You can create your own validators by composing existing ones or by creating a new <code>Validator</code> instance.</p>
<pre class="language-dart"><code class="language-dart">// 1. By composition
IValidator isPositive() =&gt; isInt() &amp; isGte(0);

// 2. With the `validator` helper
IValidator isDivisibleBy(int n) {
  return validator(
    (value) =&gt; value is int &amp;&amp; value % n == 0,
    (value) =&gt; Expectation(message: 'must be divisible by $n', value: value),
  );
}

// 3. With a custom class (for more complex logic)
class MyCustomValidator extends Validator {
  MyCustomValidator() : super((value) {
    if (value == 'magic') {
      return Result.valid(value);
    }
    return Result.invalid(value, expectations: [Expectation(message: 'not magic', value: value)]);
  });
}
</code></pre>
<h3 id="nullable-vs-optional">Nullable vs optional</h3>
<p>The distinction between <code>nullable</code> and <code>optional</code> is important for map validation.</p>
<ul>
<li><strong><code>nullable()</code></strong>: The key <strong>must</strong> be present in the map, but its value can be <code>null</code>.</li>
<li><strong><code>optional()</code></strong>: The key <strong>may be missing</strong> from the map. If it is present, its value must not be <code>null</code> (unless <code>nullable</code> is also used).</li>
</ul>
<pre class="language-dart"><code class="language-dart">final validator = eskema({
  'required_but_nullable': isString().nullable(),
  'optional_and_not_nullable': isString().optional(),
  'optional_and_nullable': isString().nullable().optional(),
});

// Key must exist, value can be null
validator.validate({ 'required_but_nullable': null }); // Valid
validator.validate({}); // Invalid: 'required_but_nullable' is missing

// Key can be missing. If present, value cannot be null.
validator.validate({ 'optional_and_not_nullable': 'hello' }); // Valid
validator.validate({}); // Valid
validator.validate({ 'optional_and_not_nullable': null }); // Invalid

// Key can be missing. If present, value can be null.
validator.validate({ 'optional_and_nullable': null }); // Valid
validator.validate({}); // Valid
</code></pre>
<h2 id="contributing">Contributing</h2>
<p>Contributions are welcome! Whether you've found a bug, have a feature request, or want to contribute code, please feel free to open an issue or a pull request.</p>
<h3 id="reporting-bugs">Reporting Bugs</h3>
<p>If you find a bug, please open an issue on the <a href="https://github.com/nombrekeff/eskema/issues">GitHub repository</a>. Include a clear description of the problem, steps to reproduce it, and the expected behavior.</p>
<h3 id="feature-requests">Feature Requests</h3>
<p>If you have an idea for a new feature or an improvement to an existing one, please open an issue to start a discussion. This allows us to align on the feature before any code is written.</p>
<h3 id="pull-requests">Pull Requests</h3>
<ol>
<li><strong>Fork</strong> the repository and create your branch from <code>main</code>.</li>
<li><strong>Install dependencies</strong>: <code>dart pub get</code></li>
<li><strong>Make your changes</strong>. Please add tests for any new features or bug fixes.</li>
<li><strong>Run tests</strong>: <code>dart test</code></li>
<li><strong>Ensure your code is formatted</strong>: <code>dart format .</code></li>
<li><strong>Submit a pull request</strong> with a clear description of your changes.</li>
</ol>
<h3 id="project-specific-guidelines">Project-Specific Guidelines</h3>
<h4 id="requesting-new-validators">Requesting New Validators</h4>
<p>Before requesting a new validator, please consider the following:</p>
<ol>
<li><strong>Can it be composed?</strong> Many complex validations can be achieved by combining existing validators with <code>&amp;</code>, <code>|</code>, and <code>not()</code>. If it can be easily composed, a new validator might not be necessary.</li>
<li><strong>Is it a common use case?</strong> We aim to include validators that are widely applicable (e.g., <code>isEmail</code>, <code>isUrl</code>). Provide a real-world example of where the validator would be useful.</li>
<li><strong>Propose an API.</strong> Suggest a name and signature for the new validator. For example: <code>isCreditCard()</code>, <code>hasMinLength(5)</code>.</li>
</ol>
<h4 id="code-style">Code Style</h4>
<p>This project follows the official <a href="https://dart.dev/guides/language/effective-dart/style">Dart style guide</a>. All code should be formatted with <code>dart format .</code> before committing.</p>
</section>


      <section class="summary">
          <h2>Libraries</h2>
        <dl>
          <dt id="eskema">
  <span class="name"><a href="eskema/">eskema</a></span> 

</dt>
<dd>Eskema is a small, composable runtime validation library for Dart. It helps you validate
dynamic values (JSON, Maps, Lists, primitives) with readable validators and clear error messages.
</dd>

          <dt id="expectation">
  <span class="name"><a href="expectation/">expectation</a></span> 

</dt>
<dd>
</dd>

          <dt id="extensions">
  <span class="name"><a href="extensions/">extensions</a></span> 

</dt>
<dd>
</dd>

          <dt id="result">
  <span class="name"><a href="result/">result</a></span> 

</dt>
<dd>Represents the result of a validation.
</dd>

          <dt id="transformers">
  <span class="name"><a href="transformers/">transformers</a></span> 

</dt>
<dd>Transformers
</dd>

          <dt id="util">
  <span class="name"><a href="util/">util</a></span> 

</dt>
<dd>
</dd>

          <dt id="validator">
  <span class="name"><a href="validator/">validator</a></span> 

</dt>
<dd>Validator library
</dd>

          <dt id="validators">
  <span class="name"><a href="validators/">validators</a></span> 

</dt>
<dd>Top‑level built‑in validators and combinators.
</dd>

          <dt id="combinator_validators">
  <span class="name"><a href="combinator_validators/">validators/combinator_validators</a></span> 

</dt>
<dd>Combinator Validators
</dd>

          <dt id="comparison_validators">
  <span class="name"><a href="comparison_validators/">validators/comparison_validators</a></span> 

</dt>
<dd>Comparison Validators
</dd>

          <dt id="list_validators">
  <span class="name"><a href="list_validators/">validators/list_validators</a></span> 

</dt>
<dd>List Validators
</dd>

          <dt id="number_validators">
  <span class="name"><a href="number_validators/">validators/number_validators</a></span> 

</dt>
<dd>Number Validators
</dd>

          <dt id="presence_validators">
  <span class="name"><a href="presence_validators/">validators/presence_validators</a></span> 

</dt>
<dd>Presence Validators
</dd>

          <dt id="string_validators">
  <span class="name"><a href="string_validators/">validators/string_validators</a></span> 

</dt>
<dd>String Validators
</dd>

          <dt id="structure_validators">
  <span class="name"><a href="structure_validators/">validators/structure_validators</a></span> 

</dt>
<dd>Structure Validators
</dd>

          <dt id="type_validators">
  <span class="name"><a href="type_validators/">validators/type_validators</a></span> 

</dt>
<dd>Type Validators
</dd>

        </dl>
      </section>
  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="https://github.com/nombrekeff/eskema">eskema package</a></li>
</ol>

    <h5 class="hidden-xs"><span class="package-name">eskema</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="eskema/">eskema</a></li>
      <li><a href="expectation/">expectation</a></li>
      <li><a href="extensions/">extensions</a></li>
      <li><a href="result/">result</a></li>
      <li><a href="transformers/">transformers</a></li>
      <li><a href="util/">util</a></li>
      <li><a href="validator/">validator</a></li>
      <li><a href="validators/">validators</a></li>
      <li><a href="combinator_validators/">validators/combinator_validators</a></li>
      <li><a href="comparison_validators/">validators/comparison_validators</a></li>
      <li><a href="list_validators/">validators/list_validators</a></li>
      <li><a href="number_validators/">validators/number_validators</a></li>
      <li><a href="presence_validators/">validators/presence_validators</a></li>
      <li><a href="string_validators/">validators/string_validators</a></li>
      <li><a href="structure_validators/">validators/structure_validators</a></li>
      <li><a href="type_validators/">validators/type_validators</a></li>
</ol>

  </div>
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div>
</main>
<footer>
  <span class="no-break">
    eskema
      0.1.0
  </span>
  
</footer>


<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

</body>
</html>

