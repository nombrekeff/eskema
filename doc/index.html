<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="eskema API docs, for the Dart programming language.">
  <title>eskema - Dart API docs</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">
  
</head>

<body data-base-href="" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/nombrekeff/eskema">eskema package</a></li>
  </ol>
  <div class="self-name">eskema</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
  <div id="dartdoc-main-content" class="main-content">
      
<section class="desc markdown">
  <p><img src="https://github.com/nombrekeff/eskema/raw/main/.github/Eskema.png" alt=""></p>
<p><a href="https://codecov.io/gh/nombrekeff/eskema"><img src="https://codecov.io/gh/nombrekeff/eskema/branch/main/graph/badge.svg?token=ZF22N0G09J" alt="codecov"></a> <a href="https://github.com/nombrekeff/eskema/actions/workflows/test_main.yml"><img src="https://github.com/nombrekeff/eskema/actions/workflows/test_main.yml/badge.svg?branch=main" alt="build"></a> <a href="https://pub.dev/packages/eskema"><img src="https://img.shields.io/pub/v/eskema?style=flat-square" alt="Pub Version"></a></p>
<h1 id="eskema">Eskema</h1>
<p>Eskema is a small, composable runtime validation library for Dart. It helps you validate dynamic values (JSON, Maps, Lists, primitives) with readable validators and clear error messages.</p>
<h2 id="use-cases">Use cases</h2>
<p>Here are some common usecases for Eskema:</p>
<ul>
<li><strong>Validate untyped API JSON</strong> before mapping to models (catch missing/invalid fields early).</li>
<li><strong>Guard inbound request payloads</strong> (HTTP handlers, jobs) with clear, fail-fast errors.</li>
<li><strong>Validate runtime config and feature flags</strong> from files or remote sources.</li>
</ul>
<hr>
<h2 id="install">Install</h2>
<pre class="language-bash"><code class="language-bash">dart pub add eskema
</code></pre>
<h2 id="quick-start">Quick start</h2>
<p>Validate a map using a schema-like validator and read a detailed result or a boolean.</p>
<h3 id="1-create-a-simple-eskema----omit-in-toc---">1. Create a simple eskema <!-- omit in toc --></h3>
<pre class="language-dart"><code class="language-dart">import 'package:eskema/eskema.dart';

final userValidator = eskema({
	// use built-in validator functions
    'username': isString(),

	// Some zero-arg validators also have aliases: e.g. `$isBool`, `$isString` - prefer for zero-arg validators
	'lastname': $isString,

    // Combine validators using `all`, `any` and `none`
    'age': all([isInt(), isGte(0)]),

    // or use operators for simplicity, same as using `all`, `any` and `none`, but shorter!!
    'theme': (isString() &amp; (isEq('light') | isEq('dark'))),

	// Make validators nullable: the key must exist but the value may be null.
	// If you want to allow the key to be missing use `optional`.
	'premium': nullable($isBool),

	// If you want to allow the field to not exist in the map, you can use the `optional` validator -
	// will not allow null by default, that's done by the child validator
    'birthday': optional(isDate()),
});
</code></pre>
<h3 id="2-validate-the-eskema----omit-in-toc---">2. Validate the eskema <!-- omit in toc --></h3>
<p>The simplest way to check if a validator is valid, is by using the <code>isValid</code> method:</p>
<pre class="language-dart"><code class="language-dart">final ok = userValidator.isValid({ 'username': 'bob', 'age': 42, 'theme': 'light', 'premium': false });
print("User is valid: $ok");  // true
</code></pre>
<p>You can use the <code>.validate</code> method to get a descriptive error message:</p>
<pre class="language-dart"><code class="language-dart">final res = userValidator.validate({
'username': 'alice',
'age': -1,
});
print(res); // false - "Expected age -&gt; greater than or equal to 0, got -1"
</code></pre>
<p>You can also make the validation throw</p>
<pre class="language-dart"><code class="language-dart">try {
	userValidator.validateOrThrow({'username': 'bob'});
} catch (e) {
	print(e); // ValidatorFailedException with a helpful message
}
</code></pre>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#eskema">Eskema</a>
<ul>
<li><a href="#use-cases">Use cases</a>
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#quick-start">Quick start</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#api-overview">API overview</a></li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#custom-validators">Custom validators</a>
<ul>
<li><a href="#zero-arg-validator">Zero-arg validator</a></li>
<li><a href="#validator-with-args">Validator with args</a></li>
</ul>
</li>
<li><a href="#class-based-validators">Class-based validators</a></li>
<li><a href="#nullable-vs-optional">Nullable vs optional</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="api-overview">API overview</h2>
<blockquote>
<p>Check the <a href="https://nombrekeff.github.io/eskema/eskema">docs</a> for the technical documentation.</p>
</blockquote>
<ul>
<li>
<p>Core</p>
<ul>
<li><code>IEskValidator</code> / <code>EskValidator</code> — object-based validators that return <code>EskResult</code>
<ul>
<li><code>EskResult</code> — <code>.isValid</code>, <code>.isNotValid</code>, <code>.expected</code>, <code>.value</code>, nice <code>toString()</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Common validators (examples)</p>
<ul>
<li>Types: <code>isType&lt;T&gt;()</code> e.g. <code>isType&lt;String&gt;()</code>; shorthands: <code>isString()</code>, <code>isInt()</code>, <code>isDouble()</code>, <code>isBool()</code>
<ul>
<li>Nullability: <code>isNull()</code>; make any validator nullable with <code>nullable(v)</code> or <code>v.nullable()</code></li>
<li>Numbers: <code>isGt(n)</code>, <code>isGte(n)</code>, <code>isLt(n)</code>, <code>isLte(n)</code></li>
<li>Equality: <code>isEq(value)</code>, deep equality <code>isDeepEq(value)</code></li>
<li>Strings: <code>stringIsOfLength(n)</code>, <code>stringContains(sub)</code>, <code>stringNotContains(sub)</code>, <code>stringMatchesPattern(pattern)</code></li>
<li>Lists: <code>listIsOfLength(n)</code>, <code>listEach(itemValidator)</code>, <code>eskemaList([...])</code></li>
<li>Maps: <code>eskema({ 'key': validator, ... })</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Composition</p>
<ul>
<li><code>all([...])</code> — AND composition (stops on first failure)
<ul>
<li><code>any([...])</code> — OR composition (passes if any succeed)</li>
<li><code>not(v)</code> — invert a validator</li>
<li></li>
<li><code>nullable(v)</code> or <code>v.nullable()</code> — allow <code>null</code>; if the field is missing it's considered invalid</li>
<li><code>optional(v)</code> or <code>v.optional()</code> — allow missing fields; if present the inner validator runs (it controls whether <code>null</code> or empty values are accepted)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Results &amp; helpers</p>
<ul>
<li><code>.validate(value)</code> → <code>EskResult</code>
<ul>
<li><code>.isValid(value)</code> / <code>.isNotValid(value)</code> → bool</li>
<li><code>.validateOrThrow(value)</code> throws on invalid input</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Tip: Some zero-arg validators also have canonical aliases (e.g. <code>$isString</code>, <code>$isBool</code>) for concise usage.</p>
<h2 id="examples">Examples</h2>
<h3 id="custom-validators">Custom validators</h3>
<h4 id="zero-arg-validator">Zero-arg validator</h4>
<pre class="language-dart"><code class="language-dart">final isHelloWorld = all([
  $isString,
  EskValidator((value) =&gt; EskResult(
    isValid: value == 'Hello world',
    expected: 'Hello world',
    value: value,
  )),
]);

print(isHelloWorld.isValid('Hello world'));  // true
print(isHelloWorld.validate('hey'));         // false - 'Expected Hello world, got "hey"'
</code></pre>
<h4 id="validator-with-args">Validator with args</h4>
<pre class="language-dart"><code class="language-dart">IEskValidator isInRange(num min, num max) {
  return all([
    isType&lt;num&gt;(),
    EskValidator((value) =&gt; EskResult(
      isValid: value &gt;= min &amp;&amp; value &lt;= max,
      expected: 'number to be between $min and $max',
      value: value,
    )),
  ]);
}

print(isInRange(0, 5).isValid(2)); // true
print(isInRange(0, 5).validate(6)); // false - "Expected number to be between 0 and 5, got 6"
</code></pre>
<h3 id="class-based-validators">Class-based validators</h3>
<p>Prefer a class for complex/structured validation? Use <code>EskMap</code> with <code>EskField</code>.</p>
<pre class="language-dart"><code class="language-dart">import 'package:eskema/eskema.dart';

enum Theme { light, dark }

class SettingsValidator extends EskMap {
	final theme = EskField(
	    id: 'theme', 
	    validators: [isOneOf(Theme.values)],
    );

	final notificationsEnabled = EskField(
		id: 'notificationsEnabled',
		nullable: true,
		validators: [isBool()],
	);

	SettingsValidator({required super.id, super.nullable});

	@override
	get fields =&gt; [theme, notificationsEnabled];
}

class UserValidator extends EskMap {
	final name = EskField(id: 'name', validators: [isString()]);
	final settings = SettingsValidator(id: 'settings', nullable: true);

	@override
	get fields =&gt; [name, settings];
}

final v = UserValidator();
final result = v.validate({ 'name': 'Test', 'settings': { 'theme': Theme.dark } });
print(result.isValid); // true
</code></pre>
<h3 id="validate-untyped-api-json----omit-in-toc---">Validate untyped API JSON <!-- omit in toc --></h3>
<pre class="language-dart"><code class="language-dart">import 'package:eskema/eskema.dart';

final apiUser = eskema({
	'id': isInt(),
	'email': stringMatchesPattern(
		RegExp(r'^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$'),
		error: 'a valid email',
	),
	'name': isString(),
	'roles': listEach(isString()).nullable(),
});

final result = apiUser.validate(apiJson);
if (result.isNotValid) log('invalid user: $result');
</code></pre>
<h3 id="validate-runtime-config-and-feature-flags----omit-in-toc---">Validate runtime config and feature flags <!-- omit in toc --></h3>
<pre class="language-dart"><code class="language-dart">final config = eskema({
	'featureX': isBool(),
	'theme': isOneOf(['light', 'dark']),
	'retry': all([isInt(), isGte(0)]),
	'allowedHosts': listEach(isString()).nullable(),
});

final isConfigValid = config.isValid(configMap);
assert(isConfigValid, 'Invalid config: $cfgRes');
</code></pre>
<h3 id="nullable-vs-optional">Nullable vs optional</h3>
<p>Short summary</p>
<ul>
<li>nullable (<code>v.nullable()</code> / <code>nullable(v)</code>): the key must be present in the map, but the value may be <code>null</code>.</li>
<li>optional (<code>optional(v)</code> / <code>v.optional()</code>): the key may be omitted; if it's present the inner validator is run. <code>optional</code> does not automatically allow <code>null</code> — the inner validator controls that.</li>
</ul>
<p>How this works under the hood</p>
<ul>
<li>When validating a map, <code>eskema</code> calls each field's <code>.validate(value, exists: value.containsKey(key))</code>. The <code>exists</code> flag tells the field whether the key was present.</li>
<li><code>nullable</code> returns valid only when the key exists and the value is <code>null</code>.</li>
<li><code>optional</code> returns valid when the key is missing (<code>exists == false</code>). If the key exists, the inner validator runs normally.</li>
</ul>
<p>Examples</p>
<pre class="language-dart"><code class="language-dart">// 1) Required (default): key must exist and pass
final required = eskema({'name': isString()});
required.validate({}); // invalid: missing 'name'

// 2) Nullable: key must exist, value may be null
final nullableField = eskema({'bio': isString().nullable()});
nullableField.validate({'bio': null}); // valid
nullableField.validate({}); // invalid (missing 'bio')

// Single-field: validate knows about presence via `exists`
final field = isString().nullable();
field.validate(null, exists: true); // valid
field.validate(null, exists: false); // invalid (treated as missing)

// 3) Optional: key may be omitted; if present it must validate
final optionalField = eskema({'age': optional(isInt())});
optionalField.validate({}); // valid (age omitted)
optionalField.validate({'age': 30}); // valid
optionalField.validate({'age': null}); // invalid (optional does NOT imply nullable)

// Combine optional + nullable if you want both behaviors
final optNullable = eskema({'age': optional(isInt().nullable())});
optNullable.validate({}); // valid (omitted)
optNullable.validate({'age': null}); // valid (present + null allowed)
</code></pre>
<p>Notes</p>
<ul>
<li>Empty strings or other values are validated by the inner validator (e.g. <code>isString()</code> accepts <code>''</code>). <code>optional</code> does not change that behavior.</li>
</ul>
<h2 id="more----omit-in-toc---">More <!-- omit in toc --></h2>
<ul>
<li>See <a href="./example/"><code>example/</code></a> for runnable demos</li>
<li>Check <a href="./test/"><code>test/</code></a> for behavior coverage</li>
</ul>
</section>


      <section class="summary">
          <h2>Libraries</h2>
        <dl>
          <dt id="eskema">
  <span class="name"><a href="eskema/">eskema</a></span> 

</dt>
<dd>Eskema is a small, composable runtime validation library for Dart. It helps you validate
dynamic values (JSON, Maps, Lists, primitives) with readable validators and clear error messages.
</dd>

          <dt id="expectation">
  <span class="name"><a href="expectation/">expectation</a></span> 

</dt>
<dd>
</dd>

          <dt id="extensions">
  <span class="name"><a href="extensions/">extensions</a></span> 

</dt>
<dd>
</dd>

          <dt id="result">
  <span class="name"><a href="result/">result</a></span> 

</dt>
<dd>Represents the result of a validation.
</dd>

          <dt id="transformers">
  <span class="name"><a href="transformers/">transformers</a></span> 

</dt>
<dd>Transformers
</dd>

          <dt id="util">
  <span class="name"><a href="util/">util</a></span> 

</dt>
<dd>
</dd>

          <dt id="validator">
  <span class="name"><a href="validator/">validator</a></span> 

</dt>
<dd>Validator library
</dd>

          <dt id="validators">
  <span class="name"><a href="validators/">validators</a></span> 

</dt>
<dd>Top‑level built‑in validators and combinators.
</dd>

          <dt id="combinator_validators">
  <span class="name"><a href="validators_combinator_validators/">validators/combinator_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="comparison_validators">
  <span class="name"><a href="validators_comparison_validators/">validators/comparison_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="list_validators">
  <span class="name"><a href="validators_list_validators/">validators/list_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="number_validators">
  <span class="name"><a href="validators_number_validators/">validators/number_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="presence_validators">
  <span class="name"><a href="validators_presence_validators/">validators/presence_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="string_validators">
  <span class="name"><a href="validators_string_validators/">validators/string_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="structure_validators">
  <span class="name"><a href="validators_structure_validators/">validators/structure_validators</a></span> 

</dt>
<dd>
</dd>

          <dt id="type_validators">
  <span class="name"><a href="validators_type_validators/">validators/type_validators</a></span> 

</dt>
<dd>
</dd>

        </dl>
      </section>
  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="https://github.com/nombrekeff/eskema">eskema package</a></li>
</ol>

    <h5 class="hidden-xs"><span class="package-name">eskema</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="eskema/">eskema</a></li>
      <li><a href="expectation/">expectation</a></li>
      <li><a href="extensions/">extensions</a></li>
      <li><a href="result/">result</a></li>
      <li><a href="transformers/">transformers</a></li>
      <li><a href="util/">util</a></li>
      <li><a href="validator/">validator</a></li>
      <li><a href="validators/">validators</a></li>
      <li><a href="validators_combinator_validators/">validators/combinator_validators</a></li>
      <li><a href="validators_comparison_validators/">validators/comparison_validators</a></li>
      <li><a href="validators_list_validators/">validators/list_validators</a></li>
      <li><a href="validators_number_validators/">validators/number_validators</a></li>
      <li><a href="validators_presence_validators/">validators/presence_validators</a></li>
      <li><a href="validators_string_validators/">validators/string_validators</a></li>
      <li><a href="validators_structure_validators/">validators/structure_validators</a></li>
      <li><a href="validators_type_validators/">validators/type_validators</a></li>
</ol>

  </div>
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div>
</main>
<footer>
  <span class="no-break">
    eskema
      0.1.0
  </span>
  
</footer>


<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

</body>
</html>

